"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[486],{486:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var r=n(9434),a=n(2791),u=n(7505),c=n(4189),s=n(184),i=function(e){e.id;var t=e.name,n=e.number;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:t}),(0,s.jsx)("p",{children:n})]})})},o=function(){var e=(0,r.v9)(c.hF);return(0,s.jsx)("ul",{children:e.map((function(e){var t=e.id,n=e.name,r=e.number;return(0,s.jsx)(i,{id:t,name:n,number:r},t)}))})},l=n(8690),p=(0,l.oM)({name:"filter",initialState:"",reducers:{setFilter:{reducer:function(e,t){return t.payload}}}}),d=(p.reducer,p.actions.setFilter),m=function(){var e=(0,r.I0)();return(0,s.jsxs)("label",{children:["Find contacts by name",(0,s.jsx)("input",{type:"text",name:"filter",title:"Filter is case unsensitive.",required:!0,onChange:function(t){var n;e(d(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.value))}})]})},f=n(5861),h=n(4687),v=n.n(h),x=n(1243),b=(0,l.hg)("contacts/fetchAll",function(){var e=(0,f.Z)(v().mark((function e(t,n){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.get("/contacts");case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),j=(0,l.hg)("contacts/addContact",function(){var e=(0,f.Z)(v().mark((function e(t,n){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.post("/contacts",t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),g=((0,l.hg)("contacts/deleteContact",function(){var e=(0,f.Z)(v().mark((function e(t,n){var r;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.Z.delete("/contacts/".concat(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),(0,l.hg)("contacts/editContact",function(){var e=(0,f.Z)(v().mark((function e(t,n){var r,a,u,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,a=t.name,u=t.number,e.prev=1,e.next=4,x.Z.patch("/contacts/".concat(r),{name:a,number:u});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",n.rejectWithValue(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),function(){var e=(0,r.v9)(c.Af),t=(0,r.I0)();return(0,s.jsxs)("form",{onSubmit:function(n){n.preventDefault();var r=null===n||void 0===n?void 0:n.target,a=r.elements,u=a.name,c=a.number,s=u.value.trim(),i=c.value.trim();e.some((function(e){return e.name.toLowerCase().trim()===s.toLowerCase()}))||(r.reset(),t(j({name:s,number:i})))},children:[(0,s.jsxs)("label",{children:["Name",(0,s.jsx)("input",{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,autoComplete:"off"})]}),(0,s.jsxs)("label",{children:["Phone",(0,s.jsx)("input",{type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,autoComplete:"off"})]}),(0,s.jsx)("button",{type:"submit",children:"Add contact"})]})}),w=n(5643),C=function(){var e=(0,r.I0)(),t=(0,u.useContacts)(),n=t.isLoading,c=t.error;return(0,a.useEffect)((function(){e(b())}),[e]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(g,{}),(0,s.jsx)(m,{}),n&&!c&&(0,s.jsx)(w.a,{}),(0,s.jsx)(o,{})]})}}}]);
//# sourceMappingURL=486.c16f9de6.chunk.js.map